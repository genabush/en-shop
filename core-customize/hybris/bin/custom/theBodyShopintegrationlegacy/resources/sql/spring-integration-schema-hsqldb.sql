CREATE SEQUENCE IF NOT EXISTS PUBLIC.INT_MESSAGE_SEQ;

CREATE TABLE IF NOT EXISTS PUBLIC.INT_CHANNEL_MESSAGE (
	MESSAGE_ID CHAR(36) NOT NULL,
	GROUP_KEY CHAR(36) NOT NULL,
	CREATED_DATE BIGINT NOT NULL,
	MESSAGE_PRIORITY BIGINT,
	MESSAGE_SEQUENCE INT GENERATED BY DEFAULT AS SEQUENCE INT_MESSAGE_SEQ,
	MESSAGE_BYTES BLOB,
	REGION VARCHAR(100) NOT NULL,
	constraint INT_CHANNEL_MESSAGE_PK primary key (REGION, GROUP_KEY, CREATED_DATE, MESSAGE_SEQUENCE)
) ;

GRANT ALL ON TABLE PUBLIC.INT_CHANNEL_MESSAGE TO SA;

GRANT ALL ON SEQUENCE PUBLIC.INT_MESSAGE_SEQ TO SA;